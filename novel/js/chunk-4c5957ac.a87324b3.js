(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-4c5957ac"],{"1f2b":function(t,e,o){},"205c":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"roll",on:{click:t.toTop}},[t._v("回到顶部")])},a=[],i={methods:{toTop:function(){var t=setInterval((function(){document.documentElement.scrollTop=document.documentElement.scrollTop-100,0==document.documentElement.scrollTop&&clearInterval(t)}),30)}}},n=i,l=(o("57bf"),o("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports},"22a8":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-skeleton",{attrs:{title:"",avatar:"",row:3,loading:t.loading}},[o("li",{staticClass:"bookitemTwo",on:{click:t.toBookdetail}},[o("van-card",{attrs:{title:t.item.title,thumb:"http://statics.zhuishushenqi.com"+t.item.cover},scopedSlots:t._u([{key:"desc",fn:function(){return[o("van-tag",{staticClass:"desc-content"},[t._v(" "+t._s(t.item.shortIntro)+" ")]),o("van-tag",{staticClass:"desc-detail"},[o("span",[t._v(t._s(t.item.minorCate)+" ")]),t.item.minorCate?o("span",[t._v("|")]):t._e(),o("span",[t._v(t._s(t.item.latelyFollower)+" 人气")])])]},proxy:!0}])})],1)])},a=[],i={props:["item","loading"],methods:{toBookdetail:function(){this.$router.push({path:"/bookDetail/"+this.item._id})}}},n=i,l=(o("fe4e"),o("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports},2957:function(t,e,o){"use strict";o.r(e);var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",[t.loading?o("van-loading",{staticStyle:{"margin-top":"100px"},attrs:{size:"24px",vertical:""}},[t._v("加载中...")]):o("van-pull-refresh",{attrs:{"success-text":"刷新成功"},on:{refresh:t.onRefresh},model:{value:t.isLoading,callback:function(e){t.isLoading=e},expression:"isLoading"}},[o("div",{staticClass:"publish"},[o("div",{staticClass:"container"},[o("Title",{attrs:{title:"热门小说",loading:t.loading,typeBooks:t.publishHotNovels}},[t._v("热门小说")]),t.publishHotNovels?o("ul",[o("BookItemTypeTwo",{key:t.publishHotNovels[t.randomNumSec]._id,attrs:{item:t.publishHotNovels[t.randomNumSec],loading:t.loading}})],1):t._e(),t.publishHotNovels?o("ul",{staticClass:"ul-type-one"},t._l(t.publishHotNovels.slice(0+t.randomNum,4+t.randomNum),(function(e){return o("BookItemTypeOne",{key:e._id,attrs:{item:e,loading:t.loading}})})),1):t._e()],1),o("div",{staticClass:"container"},[o("Title",{attrs:{title:"成功励志",loading:t.loading,typeBooks:t.successfulMotivationalNovels}},[t._v("成功励志")]),t.successfulMotivationalNovels?o("van-grid",{attrs:{"column-num":"3",center:!1}},t._l(t.successfulMotivationalNovels.slice(0+t.randomNum,3+t.randomNum),(function(e){return o("BookItemTypeThree",{key:e._id,attrs:{item:e,loading:t.loading}})})),1):t._e()],1),o("div",{staticClass:"container"},[o("Title",{attrs:{title:"言情畅销",loading:t.loading,typeBooks:t.sentimentalNovel}},[t._v("言情畅销")]),t.sentimentalNovel?o("ul",t._l(t.sentimentalNovel.slice(0+t.randomNum,6+t.randomNum),(function(e){return o("BookItemTypeTwo",{key:e._id,attrs:{item:e,loading:t.loading}})})),1):t._e()],1),o("div",{staticClass:"container"},[o("Title",{attrs:{title:"时尚生活",loading:t.loading,typeBooks:t.fashionNovels}},[t._v("时尚生活")]),t.fashionNovels?o("ul",[o("BookItemTypeTwo",{key:t.fashionNovels[t.randomNumSec]._id,attrs:{item:t.fashionNovels[t.randomNumSec],loading:t.loading}})],1):t._e(),t.fashionNovels?o("ul",{staticClass:"ul-type-one"},t._l(t.fashionNovels.slice(0+t.randomNum,4+t.randomNum),(function(e){return o("BookItemTypeOne",{key:e._id,attrs:{item:e,loading:t.loading}})})),1):t._e()],1),o("BackToTop")],1)])],1)},a=[],i=(o("fb6a"),o("d3b7"),o("43b3")),n=o("553d"),l=o("22a8"),c=o("7d42"),r=o("205c"),u={components:{Title:i["a"],BookItemTypeOne:n["a"],BookItemTypeTwo:l["a"],BookItemTypeThree:c["a"],BackToTop:r["a"]},data:function(){return{publishHotNovels:null,sentimentalNovel:null,fashionNovels:null,successfulMotivationalNovels:null,randomNum:0,randomNumSec:5,maxSearch:30,isLoading:!1,loading:!0,loadingCount:0}},watch:{loadingCount:function(t){t>=4&&(this.loading=!1)}},created:function(){this.loading=!0,this.loadingCount=0,this.searchData()},mounted:function(){this.getRandomNum()},methods:{onRefresh:function(){var t=this;setTimeout((function(){t.isLoading=!1,t.getRandomNum()}),1e3)},searchData:function(){var t=this;localStorage.getItem("publishHotNovels")&&JSON.parse(localStorage.getItem("publishHotNovels")).expire>Date.now()?(this.publishHotNovels=JSON.parse(localStorage.getItem("publishHotNovels")).books,this.loadingCount++):this.axios.get("/category-info?gender=press&type=hot&major=出版小说&start=0&limit="+this.maxSearch).then((function(e){var o={books:e.data.books.slice(0,t.maxSearch),expire:Date.now()+864e5};t.publishHotNovels=o.books,localStorage.setItem("publishHotNovels",JSON.stringify(o))})).finally((function(){t.loadingCount++})),localStorage.getItem("sentimentalNovel")&&JSON.parse(localStorage.getItem("sentimentalNovel")).expire>Date.now()?(this.sentimentalNovel=JSON.parse(localStorage.getItem("sentimentalNovel")).books,this.loadingCount++):this.axios.get("/category-info?gender=press&type=hot&major=青春言情&start=0&limit="+this.maxSearch).then((function(e){var o={books:e.data.books.slice(0,t.maxSearch),expire:Date.now()+864e5};t.sentimentalNovel=o.books,localStorage.setItem("sentimentalNovel",JSON.stringify(o))})).finally((function(){t.loadingCount++})),localStorage.getItem("fashionNovels")&&JSON.parse(localStorage.getItem("fashionNovels")).expire>Date.now()?(this.fashionNovels=JSON.parse(localStorage.getItem("fashionNovels")).books,this.loadingCount++):this.axios.get("/category-info?gender=press&type=hot&major=生活时尚&start=0&limit="+this.maxSearch).then((function(e){var o={books:e.data.books.slice(0,t.maxSearch),expire:Date.now()+864e5};t.fashionNovels=o.books,localStorage.setItem("fashionNovels",JSON.stringify(o))})).finally((function(){t.loadingCount++})),localStorage.getItem("successfulMotivationalNovels")&&JSON.parse(localStorage.getItem("successfulMotivationalNovels")).expire>Date.now()?(this.successfulMotivationalNovels=JSON.parse(localStorage.getItem("successfulMotivationalNovels")).books,this.loadingCount++):this.axios.get("/category-info?gender=press&type=hot&major=成功励志&start=0&limit="+this.maxSearch).then((function(e){var o={books:e.data.books.slice(0,t.maxSearch),expire:Date.now()+864e5};t.successfulMotivationalNovels=o.books,localStorage.setItem("successfulMotivationalNovels",JSON.stringify(o))})).finally((function(){t.loadingCount++}))},getRandomNum:function(){this.randomNum=Math.floor(Math.random()*(this.maxSearch-6)),this.randomNumSec=Math.floor(Math.random()*this.maxSearch)}}},m=u,d=(o("dda0"),o("2877")),h=Object(d["a"])(m,s,a,!1,null,"24fdb174",null);e["default"]=h.exports},3959:function(t,e,o){"use strict";o("f9cf")},"43b3":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("div",{staticClass:"title"},[o("div",{staticClass:"titleFont"},[t._t("default")],2),o("span",{on:{click:t.toTypeDetails}},[t._v("查看更多")])])},a=[],i={props:["typeBooks"],methods:{toTypeDetails:function(){this.$router.push({path:"/typeDetails",query:{books:JSON.stringify(this.typeBooks),loading:this.$attrs.loading,title:this.$attrs.title}})}}},n=i,l=(o("3959"),o("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports},"553d":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("li",{staticClass:"bookItemTypeOne",on:{click:t.toBookdetail}},[o("section",[o("img",{attrs:{src:"http://statics.zhuishushenqi.com"+t.item.cover}}),o("div",[o("span",{staticClass:"font-title"},[t._v(t._s(t.item.title))]),o("span",{staticClass:"font-author"},[t._v(" "+t._s(t.item.author))])])])])},a=[],i={props:["item","loading"],methods:{toBookdetail:function(){this.$router.push({path:"/bookDetail/"+this.item._id})}}},n=i,l=(o("767f"),o("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports},"57bf":function(t,e,o){"use strict";o("1f2b")},"64bc":function(t,e,o){},"743c":function(t,e,o){},"767f":function(t,e,o){"use strict";o("bd8b")},"7d42":function(t,e,o){"use strict";var s=function(){var t=this,e=t.$createElement,o=t._self._c||e;return o("van-grid-item",{staticClass:"my-grid-item",on:{click:t.toBookdetail}},[o("van-image",{attrs:{src:"http://statics.zhuishushenqi.com"+t.item.cover}}),o("span",{staticClass:"font-title"},[t._v(t._s(t.item.title))]),o("span",{staticClass:"font-author"},[t._v(t._s(t.item.author))])],1)},a=[],i={props:["item","loading"],methods:{toBookdetail:function(){this.$router.push({path:"/bookDetail/"+this.item._id})}}},n=i,l=(o("ec0e"),o("2877")),c=Object(l["a"])(n,s,a,!1,null,null,null);e["a"]=c.exports},"952d":function(t,e,o){},bd8b:function(t,e,o){},dda0:function(t,e,o){"use strict";o("952d")},ec0e:function(t,e,o){"use strict";o("64bc")},f9cf:function(t,e,o){},fe4e:function(t,e,o){"use strict";o("743c")}}]);
//# sourceMappingURL=chunk-4c5957ac.a87324b3.js.map