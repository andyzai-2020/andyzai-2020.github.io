(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["about"],{"0b70":function(t,n,o){"use strict";o.r(n);var e=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",{staticClass:"hot",class:{mb:t.$attrs.currentMusic}},[e("div",{staticClass:"title"},[e("div",{staticClass:"title-top"}),e("div",{staticClass:"title-bottom"},[t._v(" 更新日期： "),e("span",[t._v(t._s(t.nowDate))])])]),[t.$parent.$parent.isShowLoading?e("img",{staticClass:"loading",attrs:{src:o("3ac0")}}):e("HotMusic",{attrs:{someHotSongs:t.someHotSongs,currentMusic:t.$attrs.currentMusic,paused:t.$attrs.paused},on:{"update:music":function(n){return t.$emit("update:music",n)},"update:playlist":function(n){return t.$emit("update:playlist",n)}}})],e("p",{directives:[{name:"show",rawName:"v-show",value:!(t.more==t.newHotSongs.length/20)&&!t.$parent.$parent.isShowLoading,expression:"\n      !(more == newHotSongs.length / 20) && !$parent.$parent.isShowLoading\n    "}]},[e("span",{on:{click:function(n){++t.more}}},[t._v("查看完整榜单")])])],2)},s=[],i=(o("a15b"),o("d81d"),o("fb6a"),o("b0c0"),o("d3b7"),o("2909")),a=function(){var t=this,n=t.$createElement,o=t._self._c||n;return o("ul",t._l(t.someHotSongs,(function(n,e){return o("HotSongItem",{key:n.id,attrs:{index:e,item:n,currentMusic:t.$attrs.currentMusic,paused:t.$attrs.paused},on:{"update:music":function(n){return t.$emit("update:music",n)},"update:playlist":function(n){return t.updatePlaylist(e)}}})})),1)},c=[],r=o("8b05"),u={components:{HotSongItem:r["a"]},props:["someHotSongs"],methods:{updatePlaylist:function(t){var n={songListItem:this.someHotSongs,index:t};this.$emit("update:playlist",n)}}},l=u,d=o("2877"),m=Object(d["a"])(l,a,c,!1,null,"b809c150",null),p=m.exports,g={components:{HotMusic:p},data:function(){return{more:1,hotSongs:[],someHotSongs:[],newHotSongs:[],nowDate:""}},mounted:function(){var t=this;window.addEventListener("scroll",(function(){var n=document.documentElement.scrollTop||document.body.scrollTop,o=document.documentElement.scrollHeight||document.body.scrollHeight;n>o/2&&t.more++}))},watch:{hotSongs:function(t){for(var n=[],o=0;o<t.length;o++)n.push({name:t[o].name,picUrl:t[o].al.picUrl,id:t[o].id,cd:t[o].cd,song:[]}),n[o].song=Object(i["a"])(t[o].ar);this.newHotSongs=n},newHotSongs:function(t){this.someHotSongs=t.slice(0,20)},more:function(){this.more>this.newHotSongs.length/20&&(this.more=this.newHotSongs.length/20);var t=this.newHotSongs.slice(0,20*this.more);this.someHotSongs=Object(i["a"])(t)}},created:function(){var t=this;this.$root.isShowLoading=!0;var n=new Date;this.nowDate=n.getMonth()+1+"月"+n.getDate()+"日",this.axios.get("/top/list?idx=1").then((function(n){console.log(n);var o=n.data.playlist.trackIds.slice(0,100).map((function(t){return t.id})).join();t.axios.get("/song/detail?ids="+o).then((function(n){t.hotSongs=n.data.songs,console.log("查询结束")}))})).finally((function(){setTimeout((function(){t.$root.isShowLoading=!1}),1e3)}))}},h=g,f=(o("7ecf"),Object(d["a"])(h,e,s,!1,null,"14a947fc",null));n["default"]=f.exports},"7ecf":function(t,n,o){"use strict";o("93c2")},"93c2":function(t,n,o){}}]);
//# sourceMappingURL=about.44173db1.js.map